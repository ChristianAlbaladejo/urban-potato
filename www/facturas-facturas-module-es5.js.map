{"version":3,"sources":["webpack:///src/app/facturas/facturas.page.html","webpack:///src/app/facturas/facturas-routing.module.ts","webpack:///src/app/facturas/facturas.module.ts","webpack:///src/app/facturas/facturas.page.scss","webpack:///src/app/facturas/facturas.page.ts"],"names":["routes","path","component","FacturasPageRoutingModule","imports","forChild","exports","FacturasPageModule","declarations","FacturasPage","apiService","loadingController","alertController","authService","router","id","console","log","create","message","translucent","loading","present","getPdf","subscribe","response","dismiss","window","open","url","error","status","logout","header","subHeader","buttons","alert","navigateByUrl","replaceUrl","selector","template","providers"],"mappings":"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","file":"facturas-facturas-module-es5.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Facturas</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen>\\n  <ion-list>\\n    <ion-item>\\n      <ion-avatar slot=\\\"start\\\">\\n        <img src=\\\"../../assets/factura.png\\\">\\n      </ion-avatar>\\n      <ion-label>\\n        <h2>Poe</h2>\\n        <h3>New Ride</h3>\\n        <p>I just upgraded my X-Wing. Next time...</p>\\n      </ion-label>\\n      <ion-icon name=\\\"download-outline\\\" (click)=\\\"getPdf('1165')\\\" end></ion-icon>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-avatar slot=\\\"start\\\">\\n        <img src=\\\"../../assets/factura.png\\\">\\n      </ion-avatar>\\n      <ion-label>\\n        <h2>Ben</h2>\\n        <h3>Move Along</h3>\\n        <p>These aren't the droids you're looking for...</p>\\n      </ion-label>\\n      <ion-icon name=\\\"download-outline\\\" end></ion-icon>\\n    </ion-item>\\n  </ion-list>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FacturasPage } from './facturas.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FacturasPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FacturasPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FacturasPageRoutingModule } from './facturas-routing.module';\n\nimport { FacturasPage } from './facturas.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FacturasPageRoutingModule\n  ],\n  declarations: [FacturasPage]\n})\nexport class FacturasPageModule {}\n","export default \"ion-avatar {\\n  width: 3em;\\n  height: 3em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZmFjdHVyYXMvZmFjdHVyYXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksVUFBQTtFQUNBLFdBQUE7QUFDSiIsImZpbGUiOiJzcmMvYXBwL2ZhY3R1cmFzL2ZhY3R1cmFzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1hdmF0YXIgeyBcclxuICAgIHdpZHRoOiAzZW07ICBcclxuICAgIGhlaWdodDogM2VtOyAgXHJcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from '../services/api.service';\nimport { LoadingController } from '@ionic/angular';\nimport { AlertController } from '@ionic/angular';\nimport { AuthenticationService } from '../services/authentication.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-facturas',\n  templateUrl: './facturas.page.html',\n  styleUrls: ['./facturas.page.scss'],\n  providers: [ApiService]\n})\nexport class FacturasPage implements OnInit {\n\n  constructor(\n    private apiService: ApiService,\n    public loadingController: LoadingController,\n    public alertController: AlertController,\n    private authService: AuthenticationService,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n  }\n\n  async getPdf(id){\n    console.log(id)\n    const loading = await this.loadingController.create({\n      message: 'Cargando...',\n      translucent: true,\n    });\n    await loading.present();\n    (await this.apiService.getPdf(id)).subscribe(\n      (response) => {\n        console.log(response);\n        this.loadingController.dismiss();\n        window.open(response.url)\n      }, async (error) => {\n        console.log(error)\n        if (error.status === 401) {\n          this.logout();\n        }\n        this.loadingController.dismiss();\n        const alert = await this.alertController.create({\n          header: 'Error',\n          subHeader: 'Parece que hay problemas',\n          buttons: ['OK']\n        });\n        await alert.present();\n      }\n    )\n  }\n\n  async logout() {\n    await this.authService.logout();\n    this.router.navigateByUrl('/', { replaceUrl: true });\n  }\n\n}\n"]}