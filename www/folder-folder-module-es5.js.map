{"version":3,"sources":["webpack:///src/app/folder/folder.page.html","webpack:///src/app/folder/folder-routing.module.ts","webpack:///src/app/folder/folder.module.ts","webpack:///src/app/folder/folder.page.scss","webpack:///src/app/folder/folder.page.ts"],"names":["routes","path","component","FolderPageRoutingModule","imports","forChild","exports","FolderPageModule","declarations","Storage","FolderPage","actionSheetController","apiService","loadingController","alertController","authService","router","products","get","key","token","value","JSON","parse","console","log","load","create","message","translucent","loading","present","getProductsTop","subscribe","response","artTop","forEach","item","loadImages","error","status","logout","dismiss","header","subHeader","buttons","alert","getProductsImages","product","flag","index","i","length","iD","aRTALIAS","text","icon","handler","quantity","set","stringify","role","splice","remove","actionSheet","push","navigateByUrl","replaceUrl","selector","template","providers"],"mappings":"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","file":"folder-folder-module-es5.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Inicio</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-list>\\n    <ion-list-header>\\n      Top 15\\n    </ion-list-header>\\n\\n    <ion-item (click)=\\\"presentActionSheet(top)\\\" *ngFor=\\\"let top of artTop\\\">\\n      <ion-thumbnail slot=\\\"start\\\">\\n        <ion-img\\n          src=\\\"https://rockcontent.com/es/wp-content/uploads/2019/02/o-que-e-produto-no-mix-de-marketing-1280x720.png\\\">\\n        </ion-img>\\n      </ion-thumbnail>\\n      <ion-label>\\n        <h2>{{top.aRTALIAS}}</h2>\\n        <p>{{top.dESCART}}</p>\\n      </ion-label>\\n      <div slot=\\\"end\\\">\\n        <h2>{{top.pRCCOMPRA}}€</h2>\\n      </div>\\n    </ion-item>\\n  </ion-list>\\n\\n  <ion-list>\\n    <ion-list-header>\\n      Tus favoritos ❤️\\n    </ion-list-header>\\n    <ion-item>\\n      <ion-thumbnail slot=\\\"start\\\">\\n        <ion-img\\n          src=\\\"https://rockcontent.com/es/wp-content/uploads/2019/02/o-que-e-produto-no-mix-de-marketing-1280x720.png\\\">\\n        </ion-img>\\n      </ion-thumbnail>\\n      <ion-label>\\n        <h2>Finn</h2>\\n        <h3>I'm a big deal</h3>\\n        <p>Listen, I've had a pretty messed up day...</p>\\n      </ion-label>\\n      <div slot=\\\"end\\\">\\n        <h2>25€</h2>\\n      </div>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-thumbnail slot=\\\"start\\\">\\n        <ion-img\\n          src=\\\"https://rockcontent.com/es/wp-content/uploads/2019/02/o-que-e-produto-no-mix-de-marketing-1280x720.png\\\">\\n        </ion-img>\\n      </ion-thumbnail>\\n      <ion-label>\\n        <h2>Finn</h2>\\n        <h3>I'm a big deal</h3>\\n        <p>Listen, I've had a pretty messed up day...</p>\\n      </ion-label>\\n      <div slot=\\\"end\\\">\\n        <h2>25€</h2>\\n      </div>\\n    </ion-item>\\n  </ion-list>\\n\\n  <ion-list>\\n    <ion-list-header>\\n      Promociones\\n    </ion-list-header>\\n\\n    <ion-item>\\n      <ion-thumbnail slot=\\\"start\\\">\\n        <ion-img\\n          src=\\\"https://rockcontent.com/es/wp-content/uploads/2019/02/o-que-e-produto-no-mix-de-marketing-1280x720.png\\\">\\n        </ion-img>\\n      </ion-thumbnail>\\n      <ion-label>\\n        <h2>Finn</h2>\\n        <h3>I'm a big deal</h3>\\n        <p>Listen, I've had a pretty messed up day...</p>\\n      </ion-label>\\n      <div slot=\\\"end\\\">\\n        <h2>25€</h2>\\n      </div>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-thumbnail slot=\\\"start\\\">\\n        <ion-img\\n          src=\\\"https://rockcontent.com/es/wp-content/uploads/2019/02/o-que-e-produto-no-mix-de-marketing-1280x720.png\\\">\\n        </ion-img>\\n      </ion-thumbnail>\\n      <ion-label>\\n        <h2>Finn</h2>\\n        <h3>I'm a big deal</h3>\\n        <p>Listen, I've had a pretty messed up day...</p>\\n      </ion-label>\\n      <div slot=\\\"end\\\">\\n        <h2>25€</h2>\\n      </div>\\n    </ion-item>\\n    <ion-item>\\n      <ion-thumbnail slot=\\\"start\\\">\\n        <ion-img\\n          src=\\\"https://rockcontent.com/es/wp-content/uploads/2019/02/o-que-e-produto-no-mix-de-marketing-1280x720.png\\\">\\n        </ion-img>\\n      </ion-thumbnail>\\n      <ion-label>\\n        <h2>Finn</h2>\\n        <h3>I'm a big deal</h3>\\n        <p>Listen, I've had a pretty messed up day...</p>\\n      </ion-label>\\n      <div slot=\\\"end\\\">\\n        <h2>25€</h2>\\n      </div>\\n    </ion-item>\\n  </ion-list>\\n   <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" [routerLink]=\\\"['/cart']\\\" [state]=\\\"{ products: products}\\\">\\n    <ion-badge color=\\\"danger\\\" style=\\\"left: -3px; z-index: 3; position: absolute; top:-2px; border-radius:100%; padding-left: 0.5rem;padding-right: 0.5rem;\\\">{{products.length}}\\n    </ion-badge>\\n    <ion-fab-button>\\n      <ion-icon name=\\\"cart\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab> \\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FolderPage } from './folder.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FolderPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FolderPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FolderPageRoutingModule } from './folder-routing.module';\n\nimport { FolderPage } from './folder.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FolderPageRoutingModule\n  ],\n  declarations: [FolderPage]\n})\nexport class FolderPageModule {}\n","export default \"ion-menu-button {\\n  color: var(--ion-color-primary);\\n}\\n\\n#container {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n#container strong {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\n#container p {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\n#container a {\\n  text-decoration: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZm9sZGVyL2ZvbGRlci5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSwrQkFBQTtBQUNGOztBQUVBO0VBQ0Usa0JBQUE7RUFDQSxrQkFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsUUFBQTtFQUNBLDJCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7RUFDQSxTQUFBO0FBQ0Y7O0FBRUE7RUFDRSxxQkFBQTtBQUNGIiwiZmlsZSI6InNyYy9hcHAvZm9sZGVyL2ZvbGRlci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tbWVudS1idXR0b24ge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xufVxuXG4jY29udGFpbmVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICB0b3A6IDUwJTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xufVxuXG4jY29udGFpbmVyIHN0cm9uZyB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgbGluZS1oZWlnaHQ6IDI2cHg7XG59XG5cbiNjb250YWluZXIgcCB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgbGluZS1oZWlnaHQ6IDIycHg7XG4gIGNvbG9yOiAjOGM4YzhjO1xuICBtYXJnaW46IDA7XG59XG5cbiNjb250YWluZXIgYSB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { ActionSheetController } from '@ionic/angular';\nimport { ApiService } from '../services/api.service';\nimport { LoadingController } from '@ionic/angular';\nimport { AlertController } from '@ionic/angular';\nimport { AuthenticationService } from '../services/authentication.service';\nimport { Router } from '@angular/router';\nimport { Plugins } from '@capacitor/core';\n\nconst { Storage } = Plugins;\n@Component({\n  selector: 'app-folder',\n  templateUrl: './folder.page.html',\n  styleUrls: ['./folder.page.scss'],\n  providers: [ApiService]\n})\nexport class FolderPage implements OnInit {\n  public artTop;\n  public products = [];\n  constructor(\n    public actionSheetController: ActionSheetController,\n    private apiService: ApiService,\n    public loadingController: LoadingController,\n    public alertController: AlertController,\n    private authService: AuthenticationService,\n    private router: Router) { }\n\n  async ngOnInit() {\n    let token = await Storage.get({ key: 'PRODUCTS' });\n    if (token.value){\n    this.products = JSON.parse(token.value);\n    }\n    console.log(this.products)\n    this.load();\n  }\n\n  async ionViewDidEnter(){\n    let token = await Storage.get({ key: 'PRODUCTS' });\n    if (token.value) {\n      this.products = JSON.parse(token.value);\n    }\n    console.log(this.products)\n  }\n\n  async load() {\n    const loading = await this.loadingController.create({\n      message: 'Cargando...',\n      translucent: true,\n    });\n    await loading.present();\n    (await this.apiService.getProductsTop()).subscribe(\n      (response) => {\n        console.log(response);\n        this.artTop = response;\n        this.artTop.forEach(item => item[\"quantity\"] = 0);\n        console.log(this.artTop);\n        this.loadImages()\n      }, async (error) => {\n        console.log(error)\n        if (error.status === 401) {\n          this.logout();\n          this.loadingController.dismiss();\n        } else {\n          const alert = await this.alertController.create({\n            header: 'Error',\n            subHeader: 'Parece que hay problemas ',\n            buttons: ['OK']\n          });\n          await alert.present();\n        }\n      }\n    )\n  }\n\n  async loadImages() {\n    (await this.apiService.getProductsImages()).subscribe(\n      (response) => {\n        console.log(response);\n        this.loadingController.dismiss();\n      }, async (error) => {\n        console.log(error)\n        if (error.status === 401) {\n          this.logout();\n        } else {\n          const alert = await this.alertController.create({\n            header: 'Error',\n            subHeader: 'Parece que hay problemas ',\n            buttons: ['OK']\n          });\n          await alert.present();\n        }\n      }\n    )\n  }\n\n  async presentActionSheet(product) {\n    let flag = false;\n    let index = 0;\n    for (var i = 0; i < this.products.length; i++) {\n      if (this.products[i].iD == product.iD) {\n        index = i;\n        flag = true;\n        break;\n      }\n    }\n    if (flag) {\n      const actionSheet = await this.actionSheetController.create({\n        header: product.aRTALIAS,\n        buttons: [{\n          text: 'Añadir',\n          icon: 'share',\n          handler: () => {\n            this.products[index].quantity += 1;\n            Storage.set({ key: 'PRODUCTS', value: JSON.stringify(this.products) })\n          }\n        }, {\n          text: 'Eliminar de la lista',\n          role: 'destructive',\n          icon: 'trash',\n          handler: async () => {\n            for (var i = 0; i < this.products.length; i++) {\n              if (this.products[i].iD == product.iD) {\n                this.products.splice(i, 1);\n                await Storage.remove({ key: 'PRODUCTS' });\n                Storage.set({ key: 'PRODUCTS', value: JSON.stringify(this.products) })\n                break;\n              }\n            }\n          }\n        }, {\n          text: 'Cancelar',\n          icon: 'close',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        }]\n      });\n      await actionSheet.present();\n    } else {\n      const actionSheet = await this.actionSheetController.create({\n        header: product.aRTALIAS,\n        buttons: [{\n          text: 'Añadir',\n          icon: 'share',\n          handler: () => {\n            product.quantity += 1;\n            this.products.push(product)\n            Storage.set({ key: 'PRODUCTS', value: JSON.stringify(this.products) })\n          }\n        }, {\n          text: 'Cancelar',\n          icon: 'close',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        }]\n      });\n      await actionSheet.present();\n    }\n  }\n\n  async logout() {\n    await this.authService.logout();\n    this.router.navigateByUrl('/', { replaceUrl: true });\n  }\n\n}\n"]}